<%- include ('templates/header') %>

<div class="container mt-5">
  <div class="text-center mb-4">
    <h1 class="fw-bold">Admin Page</h1>
    <h3 class="text-muted">Welcome, <%= name %></h3>
  </div>

  <h4 class="mb-3">Registered Users</h4>

  <div class="row">
    <% for (let i = 0; i < users.length; i++) { %>
      <div class="col-md-6 col-lg-4 mb-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title"><%= users[i].name %></h5>
            <p class="card-text mb-1"><strong>Username:</strong> <%= users[i].username %></p>
            <p class="card-text"><strong>Role:</strong> <%= users[i].user_type %></p>
            
            <form action="/promoteUser" method="POST" class="d-inline">
              <input type="hidden" name="user_id" value="<%= users[i]._id %>">
              <button class="btn btn-success btn-sm">Promote</button>
            </form>

            <form action="/demoteUser" method="POST" class="d-inline ms-2">
              <input type="hidden" name="user_id" value="<%= users[i]._id %>">
              <button class="btn btn-danger btn-sm">Demote</button>
            </form>
          </div>
        </div>
      </div>
    <% } %>
  </div>
</div>


<%- include ('templates/footer') %>
